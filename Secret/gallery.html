<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Story in Moments</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: #1a1a2e; overflow-x: hidden; background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px), radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px); background-size: 550px 550px, 350px 350px; background-position: 0 0, 40px 60px; animation: twinkle 10s linear infinite; }
        .gallery-container { width: 100%; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 5vh 20px; }
        .gallery-title { font-family: 'Playfair Display', serif; color: #eab645; font-size: 3em; text-align: center; margin-bottom: 2vh; animation: fadeInDown 1s ease-out; }
        .heart-container { position: relative; width: 90vw; max-width: 900px; aspect-ratio: 1 / 0.9; margin: 20px auto; }
        .photo-item { position: absolute; padding: 8px; background: #fff; box-shadow: 0 6px 18px rgba(0,0,0,0.35); border-radius: 4px; transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1), box-shadow 0.4s ease; opacity: 0; animation: fallAndFadeIn 1.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; cursor: pointer; aspect-ratio: 3 / 4; }
        .photo-item.landscape { aspect-ratio: 4 / 3; }
        .photo-item:hover { transform: scale(1.15) rotate(0deg) !important; box-shadow: 0 10px 35px rgba(234, 182, 69, 0.6); z-index: 100; }
        .photo-item img { width: 100%; height: 100%; display: block; border-radius: 2px; object-fit: cover; }
        .photo-item:nth-child(1) { top: 9%; left: 24%; width: 13%; transform: rotate(-25deg); animation-delay: 0.1s; }
        .photo-item:nth-child(2) { top: 2%; left: 38%; width: 14%; transform: rotate(-15deg); animation-delay: 0.2s; }
        .photo-item:nth-child(3) { top: 2%; left: 53%; width: 14%; transform: rotate(15deg); animation-delay: 0.3s; }
        .photo-item:nth-child(4) { top: 9%; left: 68%; width: 13%; transform: rotate(25deg); animation-delay: 0.4s; }
        .photo-item:nth-child(5) { top: 18%; left: 12%; width: 15%; transform: rotate(-35deg); animation-delay: 0.25s; }
        .photo-item:nth-child(6) { top: 18%; left: 78%; width: 15%; transform: rotate(35deg); animation-delay: 0.35s; }
        .photo-item:nth-child(7) { top: 18%; left: 30%; width: 20%; transform: rotate(-8deg); animation-delay: 0.5s; }
        .photo-item:nth-child(8) { top: 18%; left: 55%; width: 20%; transform: rotate(8deg); animation-delay: 0.6s; }
        .photo-item:nth-child(9) { top: 35%; left: 2%; width: 18%; transform: rotate(-20deg); animation-delay: 0.15s; }
        .photo-item:nth-child(10) { top: 35%; left: 85%; width: 18%; transform: rotate(20deg); animation-delay: 0.45s; }
        .photo-item:nth-child(11) { top: 35%; left: 20%; width: 22%; transform: rotate(10deg); animation-delay: 0.7s; }
        .photo-item:nth-child(12) { top: 35%; left: 63%; width: 22%; transform: rotate(-10deg); animation-delay: 0.8s; }
        .photo-item:nth-child(13) { top: 55%; left: 5%; width: 20%; transform: rotate(15deg); animation-delay: 0.55s; }
        .photo-item:nth-child(14) { top: 55%; left: 80%; width: 20%; transform: rotate(-15deg); animation-delay: 0.65s; }
        .photo-item:nth-child(15) { top: 75%; left: 15%; width: 16%; transform: rotate(-20deg); animation-delay: 0.9s; }
        .photo-item:nth-child(16) { top: 75%; left: 74%; width: 16%; transform: rotate(20deg); animation-delay: 1.0s; }
        .photo-item:nth-child(17) { top: 85%; left: 30%; width: 15%; transform: rotate(25deg); animation-delay: 0.85s; }
        .photo-item:nth-child(18) { top: 85%; left: 60%; width: 15%; transform: rotate(-25deg); animation-delay: 0.95s; }
        .photo-item:nth-child(19) { top: 95%; left: 45%; width: 14%; transform: rotate(0deg); animation-delay: 1.1s; }
        .photo-item:nth-child(20) { top: 32%; left: 43%; width: 20%; transform: rotate(2deg); animation-delay: 1.2s; z-index: 10; }
        .photo-item:nth-child(21) { top: 52%; left: 28%; width: 23%; transform: rotate(-5deg); animation-delay: 1.15s; }
        .photo-item:nth-child(22) { top: 52%; left: 54%; width: 23%; transform: rotate(5deg); animation-delay: 1.25s; }
        .photo-item:nth-child(23) { top: 70%; left: 42%; width: 22%; transform: rotate(3deg); animation-delay: 1.3s; z-index: 10;}
        .photo-item:nth-child(24) { top: 45%; left: -2%; width: 25%; transform: rotate(-5deg); animation-delay: 1.05s; }
        .photo-item:nth-child(25) { top: 45%; left: 82%; width: 25%; transform: rotate(5deg); animation-delay: 1.1s; }
        .back-button { position: fixed; top: 20px; left: 20px; padding: 10px 18px; font-size: 1.5em; color: #eab645; text-decoration: none; border: 1px solid #eab645; border-radius: 50%; transition: all 0.3s ease; z-index: 200; }
        .back-button:hover { background-color: #eab645; color: #1a1a2e; }
        
        @keyframes twinkle { from { background-position: 0 0, 40px 60px; } to { background-position: -550px -550px, -350px -350px; } }
        @keyframes fallAndFadeIn { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        
        @media (max-width: 768px) { .gallery-title { font-size: 2.5em; } .heart-container { margin-top: 0; } }
        @media (max-width: 480px) { .gallery-title { font-size: 2em; margin-bottom: 20px; } .photo-item { padding: 4px; } .back-button { font-size: 1em; padding: 8px 14px; } }
    </style>
</head>
<body>
    <audio id="bg-music" loop src="music/5.mp3"></audio>

    <a href="index.html" class="back-button" title="返回">&larr;</a>

    <div class="gallery-container">
        <h1 class="gallery-title">Our Story in Moments</h1>
        <div class="heart-container">
            <div class="photo-item"><img src="img/heart/1.jpg" alt="Memory 1"></div>
            <div class="photo-item"><img src="img/heart/2.jpg" alt="Memory 2"></div>
            <div class="photo-item"><img src="img/heart/3.jpg" alt="Memory 3"></div>
            <div class="photo-item"><img src="img/heart/4.jpg" alt="Memory 4"></div>
            <div class="photo-item"><img src="img/heart/5.jpg" alt="Memory 5"></div>
            <div class="photo-item"><img src="img/heart/6.jpg" alt="Memory 6"></div>
            <div class="photo-item"><img src="img/heart/7.jpg" alt="Memory 7"></div>
            <div class="photo-item"><img src="img/heart/8.jpg" alt="Memory 8"></div>
            <div class="photo-item"><img src="img/heart/9.jpg" alt="Memory 9"></div>
            <div class="photo-item"><img src="img/heart/10.jpg" alt="Memory 10"></div>
            <div class="photo-item"><img src="img/heart/11.jpg" alt="Memory 11"></div>
            <div class="photo-item"><img src="img/heart/12.jpg" alt="Memory 12"></div>
            <div class="photo-item"><img src="img/heart/13.jpg" alt="Memory 13"></div>
            <div class="photo-item"><img src="img/heart/14.jpg" alt="Memory 14"></div>
            <div class="photo-item"><img src="img/heart/15.jpg" alt="Memory 15"></div>
            <div class="photo-item"><img src="img/heart/16.jpg" alt="Memory 16"></div>
            <div class="photo-item"><img src="img/heart/17.jpg" alt="Memory 17"></div>
            <div class="photo-item"><img src="img/heart/18.jpg" alt="Memory 18"></div>
            <div class="photo-item"><img src="img/heart/19.jpg" alt="Memory 19"></div>
            <div class="photo-item"><img src="img/heart/20.jpg" alt="Memory 20"></div>
            <div class="photo-item"><img src="img/heart/21.jpg" alt="Memory 21"></div>
            <div class="photo-item"><img src="img/heart/22.jpg" alt="Memory 22"></div>
            <div class="photo-item"><img src="img/heart/23.jpg" alt="Memory 23"></div>
            <div class="photo-item landscape"><img src="img/heart/24.jpg" alt="Memory 24"></div>
            <div class="photo-item landscape"><img src="img/heart/25.jpg" alt="Memory 25"></div>
        </div>
    </div>
    
    <script>
        const music = document.getElementById('bg-music');
        
        // 页面加载时，检查localStorage的状态
        window.addEventListener('load', () => {
            if (localStorage.getItem('musicShouldPlay') === 'true') {
                // 如果状态为“应该播放”，则尝试播放音乐
                music.play().catch(error => {
                    console.log("在画廊页播放音乐失败:", error);
                });
            }
        });
    </script>
</body>
</html>
